<form id="connect-form" action="/node/<%= host %>/<%= port %>/" method="post" target="_blank">
  <input type="hidden" id="password-field" name="password" value="<%= password %>">
  <button class="btn btn-primary" type="submit" id="connect-button">
    <i class="fa fa-eye"></i> Connect to Demo
  </button>
</form>

<script>
  function setCookie(name, value, days) {
    var expires = "";
    if (days) {
      var date = new Date();
      date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
      expires = "; expires=" + date.toUTCString();
    }
    document.cookie = name + "=" + (value || "") + expires + "; path=/";
  }

  document.getElementById('connect-button').addEventListener('click', function(event) {
    event.preventDefault();

    var passwordValue = document.getElementById('password-field').value;

    setCookie('apikey', passwordValue, 7); // Set cookie for 3 days

    document.getElementById('connect-form').submit();
  });
</script>
